# Copyright (c) 2025 Jonathan Fontanez
# SPDX-License-Identifier: BUSL-1.1
#
# JSON Type Definition (RFC 8927) schema for video frames

metadata:
  name: com.tatolab.videoframe
  version: 1.0.0
  description: "Video frame for IPC - references GPU surface by ID"
  read_mode: skip_to_latest
  buffer_size: 4

properties:
  surface_id:
    metadata:
      description: "GPU surface ID (IOSurface on macOS)"
    type: string
  width:
    metadata:
      description: "Frame width in pixels"
    type: uint32
  height:
    metadata:
      description: "Frame height in pixels"
    type: uint32
  timestamp_ns:
    metadata:
      description: "Monotonic timestamp in nanoseconds (int64 as string - parse to native int64)"
    type: string
  frame_index:
    metadata:
      description: "Sequential frame counter (uint64 as string - parse to native uint64)"
    type: string
