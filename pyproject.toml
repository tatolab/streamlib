# Root workspace configuration for streamlib
# This is NOT a package - it coordinates workspace members

[tool.uv.workspace]
members = [
    "libs/streamlib",
]

[tool.uv]
dev-dependencies = [
    # Testing
    "pytest>=7.0",
    "pytest-asyncio>=0.21.0",
    "ruff>=0.1.0",
    # WebGPU core (required for all examples)
    "wgpu>=0.25.0",
    "glfw>=2.7.0",
    # ML inference (ONNX Runtime)
    "onnxruntime>=1.19.0",
    "onnx>=1.15.0",
    # macOS camera capture
    "pyobjc-framework-AVFoundation>=10.0",
    "pyobjc-framework-CoreMedia>=10.0",
    "pyobjc-framework-Metal>=10.0",
    # Audio capture (uses PortAudio/CoreAudio on macOS)
    "sounddevice>=0.4.6",
    # Audio file I/O
    "scipy>=1.11.0",
    # Text overlays
    "Pillow>=10.0.0",
    "rendercanvas>=2.2.1",
    "mkdocs>=1.6.1",
    "mkdocs-material>=9.6.21",
    "mkdocs-mermaid2-plugin>=1.2.2",
    "mkdocstrings>=0.30.1",
    "mkdocstrings-python>=1.18.2",
]

[tool.uv.sources]
streamlib = { workspace = true }

[tool.pytest.ini_options]
testpaths = ["tests"]
asyncio_mode = "auto"

[tool.ruff]
line-length = 100
target-version = "py310"

[tool.ruff.lint]
select = ["E", "F", "W", "I", "UP"]
ignore = ["E501"]
